(function(d,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(d=typeof globalThis<"u"?globalThis:d||self,d.SplitViews=n())})(this,function(){"use strict";function d(n){const H=t=>typeof t=="string"?document.querySelector(t):t,b=(t,e,c)=>Math.min(Math.max(t,e),c),v="horizontal",M="vertical";let l,i;if(Array.isArray(n.root))throw new Error("SplitZero: root must be HTMLElement | string, not array");l=H(n.root),i=Array.from(l.children);const f=(n.direction===M?M:v)===v,T=n.gutterSize??10,C=n.snapOffset??0,z=Array.isArray(n.minSize)?n.minSize:Array(i.length).fill(n.minSize??0);if(i.length!==z.length)throw new Error("SplitZero: minSize array length must equal pane count");const u=[];i.forEach((t,e)=>{t.setAttribute("data-split-zero-pane",String(e))});for(let t=1;t<i.length;t++){const e=document.createElement("div");e.className=n.gutterClassName??"split-zero-gutter",e.style.cssText=`
      flex: 0 0 ${T}px;
      cursor: ${f?"col-resize":"row-resize"};
      background: #ddd;
      touch-action: none;
    `,l.insertBefore(e,i[t]),u.push(e)}l.style.display="flex",l.style.flexDirection=f?"row":"column";let s=n.sizes?.length?[...n.sizes]:Array(i.length).fill(100/i.length);function E(){const t=s.reduce((r,o)=>r+o,0),e=t===0?Array(i.length).fill(100/i.length):s.map(r=>r/t*100),c=f?"width":"height",x=u.length*T;i.forEach((r,o)=>{const m=e[o];r.style[c]=`calc(${m}% - ${m/100*x}px)`,r.style.flex="0 0 auto"})}E();let a=null,h=-1,y=-1,L=0,g=0,p=0,D=0,S=!1;function Z(t,e){t.preventDefault(),a=e,h=u.indexOf(e),y=h+1,L=f?t.clientX:t.clientY,g=s[h],p=s[y],e.setPointerCapture(t.pointerId),e.addEventListener("pointermove",I),e.addEventListener("pointerup",$,{once:!0})}function I(t){a&&(D=f?t.clientX:t.clientY,S||(requestAnimationFrame(()=>{if(!a){S=!1;return}const e=D-L,c=f?l.offsetWidth:l.offsetHeight,x=e/c*100;let r=g+x,o=p-x;const m=z[h],O=z[y],P=m/c*100,A=O/c*100,q=(m+C)/c*100,N=(O+C)/c*100;r<=q&&(r=P),o<=N&&(o=A),r=b(r,P,100-A),o=b(o,A,100-P);const w=r+o;w>0&&(r=r/w*(g+p),o=o/w*(g+p)),s[h]=r,s[y]=o,E(),n.onDrag?.(s),S=!1}),S=!0))}function $(t){a&&(a.releasePointerCapture(t.pointerId),a.removeEventListener("pointermove",I),n.onDragEnd?.(s),a=null)}return u.forEach(t=>{t.addEventListener("pointerdown",e=>Z(e,t))}),{root:l,destroy(){u.forEach(t=>t.remove()),l.style.display="",l.style.flexDirection="",i.forEach(t=>{t.style.width="",t.style.height="",t.style.flex=""})},setSizes(t){t.length===i.length&&(s=[...t],E())},getSizes:()=>[...s]}}return d});
